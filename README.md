# ç®—å‘½å­¦Ã—ãƒãƒ¤æš¦ã‚³ãƒ³ã‚µãƒ«ã‚·ã‚¹ãƒ†ãƒ 

ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰ç®—å‘½å­¦ã¨ãƒãƒ¤æš¦ã«åŸºã¥ã„ãŸç·åˆçš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ç®—å‘½å­¦ã®å‘½å¼è¨ˆç®—ï¼ˆå¹²æ”¯ãƒ»äº”è¡Œé…ç‚¹ãƒ»å®ˆè­·ç¥é¸å®šï¼‰ã¨ãƒãƒ¤æš¦ã®è¨ˆç®—ï¼ˆKinãƒ»ç´‹ç« ãƒ»éŸ³ãƒ»ã‚¦ã‚§ã‚¤ãƒ–ã‚¹ãƒšãƒ«ï¼‰ã‚’çµ±åˆã—ã€å¥³æ€§å‘ã‘ã®æ‚©ã¿ç›¸è«‡ï¼ˆä»•äº‹/æ‹æ„›/äººé–“é–¢ä¿‚/å¥åº·/é‹æ°—ï¼‰ã«å¯¾ã—ã¦å†ç¾æ€§ã®ã‚ã‚‹åŠ©è¨€ã‚’æä¾›ã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- ğŸ“… ç”Ÿå¹´æœˆæ—¥ãƒ»å‡ºç”Ÿæ™‚åˆ»ã‹ã‚‰ã®å‘½å¼è¨ˆç®—
- ğŸ”® ç®—å‘½å­¦ã®å››æŸ±æ¨å‘½ï¼ˆå¹´æŸ±ãƒ»æœˆæŸ±ãƒ»æ—¥æŸ±ãƒ»æ™‚æŸ±ï¼‰
- ğŸŒŸ ãƒãƒ¤æš¦ã®ãƒ„ã‚©ãƒ«ã‚­ãƒ³è¨ˆç®—
- ğŸ’¡ ãƒ†ãƒ¼ãƒåˆ¥ã‚¹ã‚³ã‚¢ç®—å‡ºï¼ˆä»•äº‹/æ‹æ„›/å¥åº·/è‡ªå·±æˆé•·ï¼‰
- ğŸ¤– LLMã«ã‚ˆã‚‹çµæœã®æ•´å½¢ã¨ææ¡ˆç”Ÿæˆ

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      HTTPS       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Backend API    â”‚
â”‚   (Vercel)      â”‚     REST API     â”‚   (Render)       â”‚
â”‚  React + Vite   â”‚                  â”‚  Python + Flask  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚  Google Sheets  â”‚
                                     â”‚   (Database)    â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å¿…è¦ç’°å¢ƒ

- Node.js 18+
- Python 3.11+
- npm ã¾ãŸã¯ yarn

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/taiyousan15/suumeigaku-maya-consul-system.git
cd suumeigaku-maya-consul-system
```

#### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®èµ·å‹•

```bash
cd app/api
pip install -r requirements.txt
python3 main.py
```

â†’ http://localhost:8080/ ã§èµ·å‹•

#### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®èµ·å‹•

```bash
cd app/frontend
npm install
npm run dev
```

â†’ http://localhost:3001/ ã§èµ·å‹•

#### 4. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹

http://localhost:3001/ ã‚’é–‹ã„ã¦ã€ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã™ã‚‹ã¨åˆ†æçµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
.
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                          # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
â”‚   â”‚   â”œâ”€â”€ main.py                   # Flask APIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ suanming.py               # ç®—å‘½å­¦è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”‚   â”œâ”€â”€ maya.py                   # ãƒãƒ¤æš¦è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰
â”‚   â”‚   â”œâ”€â”€ maya_improved.py          # ãƒãƒ¤æš¦è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆæ”¹è‰¯ç‰ˆãƒ»Dreamspellæº–æ‹ ï¼‰
â”‚   â”‚   â”œâ”€â”€ suanming_knowledge.yaml   # ç®—å‘½å­¦ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹
â”‚   â”‚   â””â”€â”€ requirements.txt          # Pythonä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”‚   â””â”€â”€ frontend/                     # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ pages/                # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”‚   â”œâ”€â”€ components/           # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”‚   â””â”€â”€ main.tsx              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ vite.config.ts
â”œâ”€â”€ tests/                            # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â””â”€â”€ test_suanming.py              # ç®—å‘½å­¦ãƒ†ã‚¹ãƒˆï¼ˆ25ä»¶ï¼‰
â”œâ”€â”€ docs/                             # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â””â”€â”€ deployment-plan.md            # ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œè¨ˆç”»æ›¸
â”œâ”€â”€ ç®—å‘½å­¦ã®è¦ä»¶å®šç¾©æ›¸.md
â””â”€â”€ ç®—å‘½å­¦å‘½å¼è¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ä»•æ§˜.md
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

```bash
cd tests
pytest test_suanming.py -v
```

**çµæœ**: 25ãƒ†ã‚¹ãƒˆå…¨ã¦æˆåŠŸ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰

```bash
cd app/frontend
npm run build
```

## ğŸŒ ãƒ‡ãƒ—ãƒ­ã‚¤

è©³ç´°ãªãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †ã¯ [docs/deployment-plan.md](docs/deployment-plan.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### æ¦‚è¦

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | URLä¾‹ |
|--------------|----------------|-------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Vercel | https://suumeigaku-maya.vercel.app |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | Render | https://suumeigaku-maya-api.onrender.com |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | Google Sheets | - |

### ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰

**Vercelï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰**
```bash
cd app/frontend
vercel --prod
```

**Renderï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰**
- GitHubãƒ—ãƒƒã‚·ãƒ¥ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- ã¾ãŸã¯ Render Dashboard ã‹ã‚‰æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤

## ğŸ“Š APIä»•æ§˜

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### `GET /api/v1/health`
ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "status": "ok",
  "service": "suanming-api",
  "version": "1.0.0"
}
```

#### `POST /api/v1/analyze`
ç®—å‘½å­¦Ã—ãƒãƒ¤æš¦ã®ç·åˆåˆ†æ

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```json
{
  "birthdate": "2020-02-05",
  "birthtime": "12:00"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "request_id": "uuid",
  "ts": "2025-10-23T12:34:56+09:00",
  "data": {
    "suanming": {
      "year_gan": "åºš", "year_shi": "å­",
      "day_gan": "ç”²", "day_shi": "å­",
      "five_elements_score": {"æœ¨": 36, "ç«": 70, ...},
      "guardian_gods": ["æœ¨", "åœŸ", "æ°´"]
    },
    "maya": {
      "kin": 183,
      "solar_seal": "é’ã„å¤œ",
      "tone": 1,
      "wavespell": "é’ã„é·¹"
    },
    "scores": {
      "overall": 0.72,
      "work": 0.68,
      "love": 0.75,
      "health": 0.61,
      "growth": 0.78
    },
    "insights": [...]
  }
}
```

## ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- React 18.2.0
- TypeScript 5.3.3
- Vite 5.0.8
- React Router Dom 6.20.0

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- Python 3.11
- Flask 3.0.0
- PyYAML 6.0.1
- pytest 7.4.3

### ã‚¤ãƒ³ãƒ•ãƒ©
- Vercel (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)
- Render (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)
- Google Sheets (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)

## ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œè¨ˆç”»æ›¸](docs/deployment-plan.md)
- [è¦ä»¶å®šç¾©æ›¸](ç®—å‘½å­¦ã®è¦ä»¶å®šç¾©æ›¸.md)
- [ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ä»•æ§˜æ›¸](ç®—å‘½å­¦å‘½å¼è¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ä»•æ§˜.md)

## ğŸ¤ è²¢çŒ®

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ã€‚å¤§ããªå¤‰æ›´ã®å ´åˆã¯ã€ã¾ãšIssueã‚’é–‹ã„ã¦å¤‰æ›´å†…å®¹ã‚’è­°è«–ã—ã¦ãã ã•ã„ã€‚

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

æœªå®š

## ğŸ‘¥ é–‹ç™ºãƒãƒ¼ãƒ 

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: ç®—å‘½å­¦Ã—ãƒãƒ¤æš¦ã‚³ãƒ³ã‚µãƒ«ã‚·ã‚¹ãƒ†ãƒ 
- ãƒªãƒã‚¸ãƒˆãƒª: https://github.com/taiyousan15/suumeigaku-maya-consul-system

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€[GitHub Issues](https://github.com/taiyousan15/suumeigaku-maya-consul-system/issues) ã§å ±å‘Šã—ã¦ãã ã•ã„ã€‚

---

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
